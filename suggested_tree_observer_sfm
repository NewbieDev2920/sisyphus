trading_bot/
â”‚
â”œâ”€â”€ domain/                       â† NÃšCLEO (reglas puras)
â”‚   â”‚
â”‚   â”œâ”€â”€ fsm/                      â† ğŸ§  MÃQUINA DE ESTADOS
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ states.py             â† Enum de estados
â”‚   â”‚   â”œâ”€â”€ events.py             â† SeÃ±ales + eventos lÃ³gicos
â”‚   â”‚   â””â”€â”€ trading_fsm.py        â† FSM (transiciones)
â”‚   â”‚
â”‚   â”œâ”€â”€ strategy/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py               â† Strategy abstracta (Observer)
â”‚   â”‚   â””â”€â”€ threshold.py          â† Strategy concreta
â”‚   â”‚
â”‚   â”œâ”€â”€ signals.py                â† BUY / SELL / HOLD
â”‚   â”œâ”€â”€ portfolio.py              â† balance lÃ³gico (no exchange)
â”‚   â””â”€â”€ events/
â”‚       â”œâ”€â”€ market.py             â† PriceUpdate, CandleClose
â”‚       â””â”€â”€ execution.py          â† OrderFilled, OrderRejected
â”‚
â”œâ”€â”€ ports/                        â† CONTRATOS (interfaces)
â”‚   â”‚
â”‚   â”œâ”€â”€ stream_port.py            â† fuente de eventos
â”‚   â”œâ”€â”€ executor_port.py          â† ejecuciÃ³n de Ã³rdenes
â”‚   â”œâ”€â”€ portfolio_port.py         â† acceso a balance
â”‚   â””â”€â”€ clock_port.py             â† tiempo (opcional)
â”‚
â”œâ”€â”€ application/                  â† ORQUESTACIÃ“N
â”‚   â”‚
â”‚   â”œâ”€â”€ engine.py                 â† bucle principal
â”‚   â””â”€â”€ wiring.py                 â† inyecciÃ³n de dependencias
â”‚
â”œâ”€â”€ adapters/                     â† INFRAESTRUCTURA
â”‚   â”‚
â”‚   â”œâ”€â”€ streams/
â”‚   â”‚   â”œâ”€â”€ websocket_stream.py   â† live
â”‚   â”‚   â””â”€â”€ historical_stream.py  â† backtest
â”‚   â”‚
â”‚   â”œâ”€â”€ executors/
â”‚   â”‚   â”œâ”€â”€ paper_executor.py
â”‚   â”‚   â””â”€â”€ exchange_executor.py
â”‚   â”‚
â”‚   â””â”€â”€ portfolio/
â”‚       â””â”€â”€ exchange_portfolio.py â† habla con exchange
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ settings.py
â”‚
â””â”€â”€ main.py
